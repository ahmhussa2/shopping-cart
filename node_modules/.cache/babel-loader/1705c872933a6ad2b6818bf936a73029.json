{"ast":null,"code":"import { ADD_ITEM, INCREMENT_ITEM, DECREMENT_ITEM } from './cartTypes';\nconst initialState = {\n  cart: [],\n  grandTotal: 0\n};\n\nconst addItemToCart = (state, payload) => {\n  const newState = { ...state\n  };\n  return {\n    cart: [...newState.cart, payload],\n    grandTotal: state.grandTotal + payload.price\n  };\n};\n\nconst incrementItemAndPrice = (state, payload) => {\n  const newState = { ...state\n  };\n  let total = 0;\n  newState.cart.map(item => {\n    if (item.id === payload.id) {\n      item.count += 1;\n      item.totalPrice = item.price * item.count;\n    }\n\n    total += item.totalPrice;\n    return item;\n  });\n  return {\n    cart: [...newState.cart],\n    grandTotal: total\n  };\n};\n\nconst decrementItemAndPrice = (state, payload) => {\n  const newState = { ...state\n  };\n  let total = 0;\n  newState.cart.map(item => {\n    if (item.id === payload.id) {\n      item.count -= 1;\n      item.totalPrice = item.price * item.count;\n      total -= item.totalPrice;\n    }\n\n    return item;\n  });\n  const filteredState = newState.cart.filter(item => {\n    return item.count !== 0;\n  });\n  return {\n    cart: [...filteredState],\n    grandTotal: total * -1\n  };\n};\n\nconst cartReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case ADD_ITEM:\n      return addItemToCart(state, action.payload);\n\n    case INCREMENT_ITEM:\n      return incrementItemAndPrice(state, action.payload);\n\n    case DECREMENT_ITEM:\n      return decrementItemAndPrice(state, action.payload);\n\n    default:\n      return state;\n  }\n};\n\nexport default cartReducer;","map":{"version":3,"names":["ADD_ITEM","INCREMENT_ITEM","DECREMENT_ITEM","initialState","cart","grandTotal","addItemToCart","state","payload","newState","price","incrementItemAndPrice","total","map","item","id","count","totalPrice","decrementItemAndPrice","filteredState","filter","cartReducer","action","type"],"sources":["/Users/ahmhussa2/Documents/case-study-shoppingcart/src/redux/cart/cartReducer.js"],"sourcesContent":["import { ADD_ITEM, INCREMENT_ITEM, DECREMENT_ITEM } from './cartTypes';\nconst initialState = {\n\tcart: [],\n\tgrandTotal: 0,\n};\n\nconst addItemToCart = (state, payload) => {\n\tconst newState = {...state};\n\treturn {cart: [...newState.cart, payload], grandTotal: state.grandTotal + payload.price};\n};\n\nconst incrementItemAndPrice = (state, payload) => {\n\tconst newState = {...state};\n\tlet total = 0;\n\tnewState.cart.map((item) => {\n\t\tif (item.id === payload.id) {\n\t\t\titem.count += 1;\n\t\t\titem.totalPrice = item.price * item.count;\n\t\t}\n\t\ttotal += item.totalPrice\n\t\treturn item;\n\t});\n\treturn {cart: [...newState.cart], grandTotal: total}\n};\n\nconst decrementItemAndPrice = (state, payload) => {\n\tconst newState = {...state};\n\tlet total = 0;\n\tnewState.cart.map((item) => {\n\t\tif (item.id === payload.id) {\n\t\t\titem.count -= 1;\n\t\t\titem.totalPrice = item.price * item.count;\n\t\t\ttotal -= item.totalPrice\n\t\t}\n\t\treturn item;\n\t});\n\tconst filteredState = newState.cart.filter((item) =>{\n\t\treturn item.count !== 0;\n\t});\n\treturn {cart: [...filteredState], grandTotal: total * -1 }\n};\n\nconst cartReducer = (state = initialState, action) => {\n\tswitch (action.type) {\n\t\tcase ADD_ITEM:\n\t\t\treturn addItemToCart(state, action.payload);\n\t\tcase INCREMENT_ITEM:\n\t\t\treturn incrementItemAndPrice(state, action.payload)\n\t\tcase DECREMENT_ITEM:\n\t\t\treturn decrementItemAndPrice(state, action.payload)\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n\nexport default cartReducer;\n"],"mappings":"AAAA,SAASA,QAAT,EAAmBC,cAAnB,EAAmCC,cAAnC,QAAyD,aAAzD;AACA,MAAMC,YAAY,GAAG;EACpBC,IAAI,EAAE,EADc;EAEpBC,UAAU,EAAE;AAFQ,CAArB;;AAKA,MAAMC,aAAa,GAAG,CAACC,KAAD,EAAQC,OAAR,KAAoB;EACzC,MAAMC,QAAQ,GAAG,EAAC,GAAGF;EAAJ,CAAjB;EACA,OAAO;IAACH,IAAI,EAAE,CAAC,GAAGK,QAAQ,CAACL,IAAb,EAAmBI,OAAnB,CAAP;IAAoCH,UAAU,EAAEE,KAAK,CAACF,UAAN,GAAmBG,OAAO,CAACE;EAA3E,CAAP;AACA,CAHD;;AAKA,MAAMC,qBAAqB,GAAG,CAACJ,KAAD,EAAQC,OAAR,KAAoB;EACjD,MAAMC,QAAQ,GAAG,EAAC,GAAGF;EAAJ,CAAjB;EACA,IAAIK,KAAK,GAAG,CAAZ;EACAH,QAAQ,CAACL,IAAT,CAAcS,GAAd,CAAmBC,IAAD,IAAU;IAC3B,IAAIA,IAAI,CAACC,EAAL,KAAYP,OAAO,CAACO,EAAxB,EAA4B;MAC3BD,IAAI,CAACE,KAAL,IAAc,CAAd;MACAF,IAAI,CAACG,UAAL,GAAkBH,IAAI,CAACJ,KAAL,GAAaI,IAAI,CAACE,KAApC;IACA;;IACDJ,KAAK,IAAIE,IAAI,CAACG,UAAd;IACA,OAAOH,IAAP;EACA,CAPD;EAQA,OAAO;IAACV,IAAI,EAAE,CAAC,GAAGK,QAAQ,CAACL,IAAb,CAAP;IAA2BC,UAAU,EAAEO;EAAvC,CAAP;AACA,CAZD;;AAcA,MAAMM,qBAAqB,GAAG,CAACX,KAAD,EAAQC,OAAR,KAAoB;EACjD,MAAMC,QAAQ,GAAG,EAAC,GAAGF;EAAJ,CAAjB;EACA,IAAIK,KAAK,GAAG,CAAZ;EACAH,QAAQ,CAACL,IAAT,CAAcS,GAAd,CAAmBC,IAAD,IAAU;IAC3B,IAAIA,IAAI,CAACC,EAAL,KAAYP,OAAO,CAACO,EAAxB,EAA4B;MAC3BD,IAAI,CAACE,KAAL,IAAc,CAAd;MACAF,IAAI,CAACG,UAAL,GAAkBH,IAAI,CAACJ,KAAL,GAAaI,IAAI,CAACE,KAApC;MACAJ,KAAK,IAAIE,IAAI,CAACG,UAAd;IACA;;IACD,OAAOH,IAAP;EACA,CAPD;EAQA,MAAMK,aAAa,GAAGV,QAAQ,CAACL,IAAT,CAAcgB,MAAd,CAAsBN,IAAD,IAAS;IACnD,OAAOA,IAAI,CAACE,KAAL,KAAe,CAAtB;EACA,CAFqB,CAAtB;EAGA,OAAO;IAACZ,IAAI,EAAE,CAAC,GAAGe,aAAJ,CAAP;IAA2Bd,UAAU,EAAEO,KAAK,GAAG,CAAC;EAAhD,CAAP;AACA,CAfD;;AAiBA,MAAMS,WAAW,GAAG,YAAkC;EAAA,IAAjCd,KAAiC,uEAAzBJ,YAAyB;EAAA,IAAXmB,MAAW;;EACrD,QAAQA,MAAM,CAACC,IAAf;IACC,KAAKvB,QAAL;MACC,OAAOM,aAAa,CAACC,KAAD,EAAQe,MAAM,CAACd,OAAf,CAApB;;IACD,KAAKP,cAAL;MACC,OAAOU,qBAAqB,CAACJ,KAAD,EAAQe,MAAM,CAACd,OAAf,CAA5B;;IACD,KAAKN,cAAL;MACC,OAAOgB,qBAAqB,CAACX,KAAD,EAAQe,MAAM,CAACd,OAAf,CAA5B;;IACD;MACC,OAAOD,KAAP;EARF;AAUA,CAXD;;AAaA,eAAec,WAAf"},"metadata":{},"sourceType":"module"}